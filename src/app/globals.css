@import "tailwindcss";

/* Design System Variables */
:root {
  /* Backgrounds */
  --bg: #0B0D12;
  --sidebar: #0E1016;
  --card: #12141B;
  --hover: #181B25;
  --border: #1F2230;

  /* Text Colors */
  --text-primary: #FFFFFF;
  --text-secondary: #B6BCCB;
  --text-muted: #7C8396;
  --text-placeholder: #5F667A;

  /* Accent Colors */
  --accent: #F4FF6F;
  --purple-glow: #8B5CF6;
  --success: #22C55E;
  --warning: #FACC15;
  --danger: #EF4444;
}

@theme inline {
  --color-bg: var(--bg);
  --color-sidebar: var(--sidebar);
  --color-card: var(--card);
  --color-hover: var(--hover);
  --color-border: var(--border);
  
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-text-placeholder: var(--text-placeholder);
  
  --color-accent: var(--accent);
  --color-purple-glow: var(--purple-glow);
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-danger: var(--danger);
  
  --font-sans: Inter, system-ui, sans-serif;
  
  --radius-card: 12px;
  --radius-button: 10px;
  
  --spacing-card: 16px;
}

html,
body {
  background-color: var(--bg);
  color: var(--text-primary);
  height: 100%;
  margin: 0;
  font-family: var(--font-sans);
  font-size: 14px;
}

/* Hide scrollbars globally while maintaining scroll functionality */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Workflow Library Card Hover Animations */
.workflow-card {
  transition: transform 0.3s ease, filter 0.3s ease;
}

.workflow-card:hover {
  transform: scale(1.05);
  filter: brightness(1.15);
}

/* React Flow Canvas Styling */
.react-flow {
  background-color: var(--bg) !important;
}

.react-flow__background {
  background-color: var(--bg) !important;
}

/* Edges - Purple with smooth curves */
.react-flow__edge-path {
  stroke: var(--purple-glow);
  stroke-width: 2;
  transition: stroke-width 0.2s ease;
}

.react-flow__edge:hover .react-flow__edge-path {
  stroke-width: 3;
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: var(--accent);
  stroke-width: 3;
}

/* Animated edges for execution */
.react-flow__edge.animated .react-flow__edge-path {
  stroke-dasharray: 8;
  animation: dashdraw 0.8s linear infinite;
  stroke: var(--accent);
}

/* Node floating effect */
.react-flow__node {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border-radius: 12px !important;
  overflow: visible !important;
}

.react-flow__node > div {
  border-radius: 12px !important;
  overflow: hidden;
}

.react-flow__node:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(139, 92, 246, 0.2);
}

.react-flow__node.selected {
  box-shadow: 0 0 0 2px var(--purple-glow);
}

.react-flow__node:focus,
.react-flow__node:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--purple-glow);
}

/* Selection box - Marquee selection */
.react-flow__selection {
  background: rgba(139, 92, 246, 0.08);
  border: 1.5px solid rgba(139, 92, 246, 0.5);
  border-radius: 4px;
  backdrop-filter: blur(2px);
}

/* Controls styling */
.react-flow__controls {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.react-flow__controls-button {
  background-color: var(--hover) !important;
  border-color: var(--border) !important;
  color: var(--text-secondary) !important;
  transition: all 0.2s ease;
}

.react-flow__controls-button:hover {
  background-color: var(--card) !important;
  color: var(--text-primary) !important;
}

/* Hide scrollbars */
.react-flow__pane {
  overflow: hidden !important;
}

/* React Flow MiniMap Styling */
.react-flow__minimap {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

.react-flow__minimap-mask {
  fill: rgba(139, 92, 246, 0.15) !important;
  stroke: var(--purple-glow) !important;
  stroke-width: 2px !important;
}

.react-flow__minimap-node {
  fill: var(--purple-glow) !important;
  stroke: #A78BFA !important;
  stroke-width: 1px !important;
}

.react-flow__minimap-node.selected {
  fill: var(--accent) !important;
  stroke: var(--success) !important;
}

.react-flow__minimap-edge {
  stroke: var(--purple-glow) !important;
  stroke-width: 1px !important;
  opacity: 0.6;
}

@keyframes dashdraw {
  to {
    stroke-dashoffset: -16;
  }
}

/* Cursor styles for selection modes */
.react-flow__pane {
  cursor: inherit !important;
}

.react-flow__pane.dragging {
  cursor: grabbing !important;
}

/* Pointer mode - nodes are selectable */
.react-flow__node {
  cursor: pointer !important;
}

.react-flow__node.dragging {
  cursor: grabbing !important;
}

/* Hand mode - override cursors */
.react-flow.hand-mode .react-flow__pane {
  cursor: grab !important;
}

.react-flow.hand-mode .react-flow__pane.dragging {
  cursor: grabbing !important;
}

.react-flow.hand-mode .react-flow__node {
  cursor: grab !important;
}
